<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Accessing Robux Paradise</title>
  <link rel="stylesheet" href="/styles.css">
</head>
<body>
  <main>
    <h1 id="status">⏳ Verifying access...</h1>
    <p class="subtitle" id="sub-msg">Please wait a moment.</p>
    <a href="/" class="btn hidden" id="back-home">Back to Home</a>
  </main>

  <script>
    (async () => {
      const parts = window.location.pathname.split('/');
      const token = parts[parts.length - 1];

      const res = await fetch(`https://api.robux-paradise.com:8310/verify-token/${token}`);
      const json = await res.json();

      const status = document.getElementById('status');
      const msg = document.getElementById('sub-msg');
      const backBtn = document.getElementById('back-home');

      if (json.ok) {
        status.textContent = "✅ Access Granted";
        msg.textContent = "Welcome to Robux Paradise. You may now proceed.";
      } else {
        status.textContent = "⛔ Access Denied";
        msg.textContent = json.reason === "Expired"
          ? "This link has expired."
          : "Access refused from this IP or invalid token.";
      }

      backBtn.classList.remove("hidden");
    })();
  </script>
</body>
</html>