<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
    <title>Robux Paradise</title>
    <link rel="stylesheet" href="styles.css" />
    <link rel="shortcut icon" type="image/png" href="https://cdn.discordapp.com/emojis/1372947613036318851.webp?size=44" />
    <meta property="og:title" content="Robux Paradise" />
    <meta property="og:description" content="Withdraw Robux easily and safely." />
    <meta property="og:image" content="https://cdn.discordapp.com/attachments/1372969796173299872/1375588072238088212/cd3aaa26-36e5-4c04-af00-7cbed24dc3b4.png?ex=68323bb9&is=6830ea39&hm=3cf684e414779a8ca5b97e1e3661bd9c9705f83eb9ed0ede3122af0d2b27f865&" />
    <meta property="og:url" content="https://robux-paradise.com/withdraw" />
    <meta property="og:type" content="website" />

    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="Robux Paradise" />
    <meta name="twitter:description" content="Withdraw Robux easily and safely." />
    <meta name="twitter:image" content="https://cdn.discordapp.com/attachments/1372969796173299872/1375588072238088212/cd3aaa26-36e5-4c04-af00-7cbed24dc3b4.png?ex=68323bb9&is=6830ea39&hm=3cf684e414779a8ca5b97e1e3661bd9c9705f83eb9ed0ede3122af0d2b27f865&" />
  </head>
  <body>
  <header>
    <div class="left-header">
      <div class="logo">Robux Paradise</div>
    </div>
    <div class="right-header">
      <a href="index.html" class="btn">Home</a>
      <button class="btn" id="login-btn" onclick="openLoginModal()">Login</button>
      <img id="profile-icon" class="profile-container hidden" onclick="toggleDropdown()" src="" />
    </div>
  </header>
  <div class="page-wrapper">
    <main>
      <div id="spin-timer"></div>
      <div class="wheel-wrapper">
        <div class="arrow"></div>
        <canvas id="wheel-canvas" width="400" height="400"></canvas>
        <div id="g-recaptcha-container">
          <div class="g-recaptcha"
              data-sitekey="6LeFpEMrAAAAAGJ2uNfktd77s0RmS92Y58fB8OTX"
              data-callback="onCaptchaSuccess"
              id="wheel-captcha">
          </div>
        </div>
        <button id="spin-btn">ðŸŽ¯ Spin (Cost 10 R$)</button>
        <div id="spin-result"></div>
        <div id="spin-probabilities" class="probability-table">
          <h3>ðŸŽ² Win Probabilities</h3>
          <table>
            <thead>
              <tr>
                <th>Robux</th>
                <th>%</th>
              </tr>
            </thead>
            <tbody id="probability-rows">
            </tbody>
          </table>
        </div>
      </div>
    </main>
  </div>

    <div id="profile-dropdown" class="dropdown-profile hidden">
    <div class="profile-card">
      <span class="close-btn" onclick="closeProfileDropdown()">&times;</span>
      <img id="dropdown-avatar" src="" />
      <h3 id="dropdown-name"></h3>
      <p id="dropdown-balance"></p>
      <button id="logout-btn" class="btn">Logout</button>
    </div>
  </div>

  <div id="wheel-win-modal" class="wheel-modal hidden">
    <div class="wheel-modal-content">
      <h2 class="wheel-modal-title">ðŸŽ‰ Congrats !</h2>
      <p id="wheel-modal-message"></p>
      <button id="wheel-modal-close" class="btn">Close</button>
    </div>
  </div>

  <div id="error-modal" class="modal hidden">
    <div class="modal-content" style="position: relative;">
      <span class="close-btn" onclick="closeErrorModal()">&times;</span>
      <h3>Error</h3>
      <p id="error-modal-message"></p>
      <button class="btn" id="error-modal-close" onclick="closeErrorModal()">Close</button>
    </div>
  </div>

    <script src="script.js"></script>
    <script>
  const user = JSON.parse(localStorage.getItem("user"));
  if (!user) {
    showErrorModal("You need to be logged in to access this page.");

    setTimeout(() => {
      window.location.href = "index.html";
    }, 3000);

    const crossBtn = document.querySelector(".close-btn");
    const closeBtn = document.getElementById("error-modal-close");

    const redirect = () => {
      window.location.href = "index.html";
    };

    if (crossBtn) crossBtn.onclick = redirect;
    if (closeBtn) closeBtn.onclick = redirect;
  }
    </script>
  <script src="https://www.google.com/recaptcha/api.js" async defer></script>
  </body>
</html>